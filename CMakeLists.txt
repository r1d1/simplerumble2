cmake_minimum_required(VERSION 2.6)

project(simplerumble2)
# All executables generated by the project
set(EXE1_NAME "simplerumble2")
set(EXE2_NAME "landscape_gen")
set(EXE3_NAME "statemachine_test")
set(EXE4_NAME "multisprite_ctrl")
set(EXE5_NAME "clone_sr2_anim")
set(EXE6_NAME "mousehovering_test")
set(EXE7_NAME "animation_test")

add_definitions(-std=gnu++0x) # -Wno-unused-parameter -Wno-unused-function -Wno-unused-variable)

# Version :
set(Simplerumble_VERSION_MAJOR 2)
set(Simplerumble_VERSION_MINOR 2)

#message("${PROJECT_SOURCE_DIR}")
#message("${PROJECT_BINARY_DIR}")
#message("${CMAKE_SOURCE_DIR}")

# configure header for some cmake settings :
configure_file(
    "${PROJECT_SOURCE_DIR}/src/SRConfig.h.in"
    "${PROJECT_BINARY_DIR}/SRConfig.h"
    )

file(GLOB_RECURSE ${EXE1_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
list(REMOVE_ITEM ${EXE1_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
message(${${EXE1_NAME}_SOURCES})
file(GLOB_RECURSE ${EXE2_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
list(REMOVE_ITEM ${EXE2_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
#message(${Simplerumble_real_SOURCES})
file(GLOB_RECURSE ${EXE3_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
list(REMOVE_ITEM ${EXE3_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
#message(${Simplerumble_real2_SOURCES})
file(GLOB_RECURSE ${EXE4_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
list(REMOVE_ITEM ${EXE4_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
#message(${sr_test_SOURCES})
file(GLOB_RECURSE ${EXE5_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
list(REMOVE_ITEM ${EXE5_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
#message(${${EXE5_NAME}_SOURCES})
file(GLOB_RECURSE ${EXE6_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE6_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main7.cpp")
#message(${${EXE6_NAME}_SOURCES})
file(GLOB_RECURSE ${EXE7_NAME}_SOURCES "src/*.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main2.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main3.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main4.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main5.cpp")
list(REMOVE_ITEM ${EXE7_NAME}_SOURCES "${PROJECT_SOURCE_DIR}/src/main6.cpp")
#message(${${EXE7_NAME}_SOURCES})
include_directories("${PROJECT_BINARY_DIR}")

#message(${Simplerumble_SOURCES})

# executable built
add_executable(${EXE1_NAME} ${${EXE1_NAME}_SOURCES})
add_executable(${EXE2_NAME} ${${EXE2_NAME}_SOURCES})
add_executable(${EXE3_NAME} ${${EXE3_NAME}_SOURCES})
add_executable(${EXE4_NAME} ${${EXE4_NAME}_SOURCES})
add_executable(${EXE5_NAME} ${${EXE5_NAME}_SOURCES})
add_executable(${EXE6_NAME} ${${EXE6_NAME}_SOURCES})
add_executable(${EXE7_NAME} ${${EXE7_NAME}_SOURCES})

add_custom_command(TARGET ${EXE1_NAME} POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_directory ${CMAKE_SOURCE_DIR}/media ${CMAKE_BINARY_DIR}/media)
add_custom_command(TARGET ${EXE2_NAME} POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_directory ${CMAKE_SOURCE_DIR}/media ${CMAKE_BINARY_DIR}/media)

# Detect and add SFML
set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake_modules" ${CMAKE_MODULE_PATH})
find_package(SFML 2 REQUIRED network audio graphics window system)
if(SFML_FOUND)
    include_directories(${SFML_INCLUDE_DIR})
    target_link_libraries(${EXE1_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE2_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE3_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE4_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE5_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE6_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
    target_link_libraries(${EXE7_NAME} ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})
endif()



